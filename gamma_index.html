<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gamma index &mdash; Yet Another Gamma Index Tool  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/style.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="_static/fonts.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=b3ba4146"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Algorithms" href="algorithms.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Yet Another Gamma Index Tool
          </a>
              <div class="version">
                v0.5.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Gamma index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dose-difference">Dose Difference</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distance-to-agreement">Distance To Agreement</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gamma-function-and-gamma-index">Gamma function and gamma index</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gipr">GIPR</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flow-diagram">Flow diagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_and_output_data.html">Input and output data</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_representation.html">Data representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/api.html">API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Yet Another Gamma Index Tool</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Gamma index</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/gamma_index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="gamma-index">
<h1>Gamma index<a class="headerlink" href="#gamma-index" title="Permalink to this heading"></a></h1>
<p>The gamma index was proposed by Low et al. <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> in 1998.
It combines two other simpler methods: Dose Difference (DD) and Distance To Agreement (DTA).</p>
<section id="dose-difference">
<h2>Dose Difference<a class="headerlink" href="#dose-difference" title="Permalink to this heading"></a></h2>
<p>The DD is based on calculating the dose difference at corresponding points <span class="math notranslate nohighlight">\(\vec{r_e}\)</span> and <span class="math notranslate nohighlight">\(\vec{r_r}\)</span>
located on the evaluated image <span class="math notranslate nohighlight">\(D_e\)</span> and the reference image <span class="math notranslate nohighlight">\(D_r\)</span>, respectively.</p>
<div class="math notranslate nohighlight">
\[\delta(\vec{r_r}, \vec{r_e}) = D_e(\vec{r_e}) - D_r(\vec{r_r})\]</div>
<p>Its acceptance criterion is expressed in percentages [%]. It is relative to global or local value:</p>
<ul class="list simple">
<li><p>global – a predetermined value, typically the maximum value in the reference image,</p></li>
<li><p>local – value at the current point in the reference image.</p></li>
</ul>
<p>If the DD value at <span class="math notranslate nohighlight">\(\vec{r_r}\)</span> point is less than or equal to the value of the acceptance criterion
(e.g., 3%, global), then this point passes the test. Otherwise, it fails.</p>
<p>The drawback of this test is that it struggles with high-gradient regions, as small shifts in the spatial
distribution of radiation dose can result in large DD values.</p>
</section>
<section id="distance-to-agreement">
<h2>Distance To Agreement<a class="headerlink" href="#distance-to-agreement" title="Permalink to this heading"></a></h2>
<p>The DTA, on the other hand, is determined by calculating the distance between
the two closest points with the same dose on two images.</p>
<div class="math notranslate nohighlight">
\[r(\vec{r_r}, \vec{r_e}) = | \vec{r_e} - \vec{r_r} |,\]</div>
<div class="math notranslate nohighlight">
\[where\ \ D_e(\vec{r_e}) = D_r(\vec{r_r})\]</div>
<p>Its acceptance criterion is expressed in millimeters [mm].
If the DTA value at <span class="math notranslate nohighlight">\(\vec{r_r}\)</span> point is less than or equal to the value of the acceptance criterion
(e.g., 3 mm), then this point passes the test. Otherwise, it fails.</p>
<p>The drawback of this method is that it encounters difficulties in low-gradient areas,
where minor dose misalignments may require a large search radius, resulting in a large DTA value.</p>
</section>
<section id="gamma-function-and-gamma-index">
<h2>Gamma function and gamma index<a class="headerlink" href="#gamma-function-and-gamma-index" title="Permalink to this heading"></a></h2>
<p>To overcome the disadvantages of DD and DTA, the gamma index was developed.
First, it is necessary to calculate the gamma function, which combines DD and DTA.
In the case of the DTA component, only the distance is calculated
without taking into account the condition of equal doses.</p>
<div class="math notranslate nohighlight">
\[\Gamma(\vec{r_r}, \vec{r_e}) =
\sqrt{\frac{\delta^2(\vec{r_r}, \vec{r_e})}{\Delta D ^2} + \frac{r^2(\vec{r_r}, \vec{r_e})}{\Delta d ^2}}\]</div>
<p><span class="math notranslate nohighlight">\(\Delta D\)</span> and <span class="math notranslate nohighlight">\(\Delta d\)</span> are acceptance criteria for DD and DTA, respectively.
The commonly used criteria values are 3%/3mm with global normalization, abbreviated as 3%G/3mm.</p>
<p>Now, to obtain the gamma index value for a single reference point <span class="math notranslate nohighlight">\(\vec{r_r}\)</span>, one must select the minimum value
of the gamma function <span class="math notranslate nohighlight">\(\Gamma\)</span> for that point and all evaluated points.</p>
<div class="math notranslate nohighlight">
\[\gamma(\vec{r_r}) = \min_{\vec{r_e}}\Gamma(\vec{r_r}, \vec{r_e})\]</div>
<p>It is calculated for each reference point, and in the end, the image containing gamma index values is obtained.
It has the same size as the reference image.</p>
<p>The gamma index is not symmetric – swapping the reference and evaluated images can yield a different result.</p>
</section>
<section id="gipr">
<h2>GIPR<a class="headerlink" href="#gipr" title="Permalink to this heading"></a></h2>
<p>The Gamma Index Passing Rate (GIPR) is a measure indicating how many points passed the test –
that is, how many gamma index values are less than or equal to 1.</p>
<div class="math notranslate nohighlight">
\[GIPR = \frac{| \{\gamma(\vec{r_r}) \le 1\} |}{| \{\gamma(\vec{r_r})\} |}\]</div>
<p>If this value is sufficiently high (e.g., at least 90%), the evaluated image is acceptable.</p>
</section>
<section id="flow-diagram">
<h2>Flow diagram<a class="headerlink" href="#flow-diagram" title="Permalink to this heading"></a></h2>
<figure class="align-center">
<img alt="Flow diagram of gamma index" src="_images/flow_diagram.svg" /></figure>
<p>The figure shows the successive stages of the gamma index calculations.
GIPR is an optional step that provides a simple single metric, but analyzing the gamma index image can provide
a lot more information about the result.</p>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h2>
<p>To illustrate how the gamma index works, a simple example is presented here.
It is calculated for two-dimensional images, each containing only four elements.</p>
<p>The used parameters are:
3% with global normalization for the DD acceptance criterion and 3 mm for the DTA acceptance criterion.</p>
<figure class="align-center">
<img alt="Example of calculating 2D gamma index - 3%G/3mm" src="_images/gamma_index_example.svg" /></figure>
<p>Below are the calculations of gamma index image values.
Note that some of the gamma function calculations are skipped, and only minimum values are shown.</p>
<div class="math-left math notranslate nohighlight">
\[\gamma(\vec{r_{r0}}) = \Gamma(\vec{r_{r0}}, \vec{r_{e0}}) =
\sqrt{\frac{(0.93 - 0.93)^2}{(0.03*1.00)^2} + \frac{(0 - (-1))^2 + (1 - 0)^2}{3^2}} \approx
\sqrt{0 + 0.222} \approx 0.471\]</div>
<div class="math-left math notranslate nohighlight">
\[\gamma(\vec{r_{r1}}) = \Gamma(\vec{r_{r1}}, \vec{r_{e1}}) =
\sqrt{\frac{(0.96 - 0.95)^2}{(0.03*1.00)^2} + \frac{(2 - 1)^2 + (1 - 0)^2}{3^2}} \approx
\sqrt{0.111 + 0.222} \approx 0.577\]</div>
<div class="math-left math notranslate nohighlight">
\[\gamma(\vec{r_{r2}}) = \Gamma(\vec{r_{r2}}, \vec{r_{e1}}) =
\sqrt{\frac{(0.96 - 0.97)^2}{(0.03*1.00)^2} + \frac{(2 - (-1))^2 + (1 - 2)^2}{3^2}} \approx
\sqrt{0.111 + 1.111} \approx 1.106\]</div>
<div class="math-left math notranslate nohighlight">
\[\gamma(\vec{r_{r3}}) = \Gamma(\vec{r_{r3}}, \vec{r_{e3}}) =
\sqrt{\frac{(1.02 - 1.00)^2}{(0.03*1.00)^2} + \frac{(2 - 1)^2 + (3 - 2)^2}{3^2}} \approx
\sqrt{0.444 + 0.222} \approx 0.816\]</div>
<div class="math-left math notranslate nohighlight">
\[GIPR = \frac{3}{4} = 75\%\]</div>
<p>The calculation of the gamma index for this example using YAGIT library
is presented <a class="reference internal" href="examples.html#simple-gamma-example"><span class="std std-ref">here</span></a>.</p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading"></a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>D. A. Low, W. B. Harms, S. Mutic, and J. A. Purdy,
“A technique for the quantitative evaluation of dose distributions,”
Medical Physics, vol. 25, no. 5, pp. 656-661, 1998.</p>
</aside>
</aside>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="introduction.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="algorithms.html" class="btn btn-neutral float-right" title="Algorithms" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-2024, YAGIT Developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>